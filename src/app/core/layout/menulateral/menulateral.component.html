<div class="flex min-h-screen" role="main">
  <!-- Sidebar -->
  <aside class="w-64 flex-shrink-0 border-r border-gray-200 bg-[#003865]" role="complementary" aria-label="Menú de navegación">
    <div class="p-4 border-b">
      <img src="assets/firma-digital-logo.png" alt="Logo de Firma Digital" class="w-32 mx-auto">
    </div>

    <div class="p-4 border-b flex flex-col items-center">
      <!-- Foto dinámica -->
      <img [src]="photoURL" alt="Avatar de usuario" class="w-16 h-16 rounded-full mb-2 object-cover">
      <!-- Nombre dinámico -->
      <p class="text-[#FDD26E] font-medium">{{ userName }}</p>
    </div>

    <nav class="p-4" aria-label="Navegación principal">
      <ul class="space-y-2">
        <li *ngFor="let item of menu">
          <!-- Enlaces de navegación -->
          <ng-container *ngIf="!item.action; else logoutTpl">
            <a
              [routerLink]="item.route"
              routerLinkActive="bg-[#FDD26E] text-[#003865] font-semibold"
              #rla="routerLinkActive"
              [routerLinkActiveOptions]="item.exact ? { exact: true } : { exact: false }"
              class="group flex items-center gap-2 text-white hover:text-[#FDD26E] hover:bg-[#0b4d79] rounded-md px-3 py-2 transition-colors outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FDD26E] focus:ring-offset-[#003865]"
              [attr.aria-current]="rla.isActive ? 'page' : null"
            >
              <i class="{{ item.icon }} group-hover:text-[#FDD26E]"></i>
              <span class="truncate">{{ item.label }}</span>
            </a>
          </ng-container>

          <!-- Botón de Cerrar sesión -->
          <ng-template #logoutTpl>
            <button
              type="button"
              (click)="onLogout()"
              class="group w-full text-left flex items-center gap-2 text-white hover:text-[#FDD26E] hover:bg-[#0b4d79] rounded-md px-3 py-2 transition-colors outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FDD26E] focus:ring-offset-[#003865]"
              aria-label="Cerrar sesión"
              title="Cerrar sesión"
            >
              <i class="{{ item.icon }} group-hover:text-[#FDD26E]"></i>
              <span class="truncate">{{ item.label }}</span>
            </button>
          </ng-template>
        </li>
      </ul>
    </nav>
  </aside>

  <main class="flex-1 p-6 bg-gray-50 overflow-auto" role="main" aria-label="Contenido principal">
    <router-outlet></router-outlet>
  </main>
</div>
